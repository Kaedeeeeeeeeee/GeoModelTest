# 第一人称控制器配置工具使用说明

## 功能概述
这个工具可以一键为Unity场景中的Lily角色和Terrier地形配置完整的第一人称3D游戏控制系统。

## 使用步骤

### 1. 打开配置工具
在Unity编辑器中，点击菜单栏 `Tools → First Person Setup` 打开配置窗口。

### 2. 确保场景设置正确
- 确保场景中有名为 "Lily" 的游戏对象（角色）
- 确保场景中有名为 "Terrier" 的游戏对象（地形）

### 3. 一键配置
点击"配置第一人称控制器"按钮，工具将自动完成以下配置：

#### 对Lily角色的配置：
- 添加CharacterController组件（用于角色移动和碰撞）
- 添加FirstPersonController脚本（核心控制逻辑，内置输入处理）
- 创建Main Camera子对象（第一人称视角摄像机）
- 创建GroundCheck子对象（地面检测点）

#### 对Terrier地形的配置：
- 添加MeshCollider组件（地面碰撞检测）
- 设置正确的图层

## 控制方式

### 键盘控制：
- **WASD** - 移动（前后左右）
- **Shift** - 奔跑
- **空格** - 跳跃

### 鼠标控制：
- **鼠标移动** - 视角转动
- 游戏开始时鼠标会自动锁定到屏幕中央

## 参数调整

配置完成后，你可以在Lily对象的FirstPersonController组件中调整以下参数：

### 移动设置：
- **Walk Speed** - 行走速度（默认3.0）
- **Run Speed** - 奔跑速度（默认6.0）
- **Jump Height** - 跳跃高度（默认1.0）
- **Gravity** - 重力强度（默认-15.0）

### 视角设置：
- **Mouse Sensitivity** - 鼠标灵敏度（默认2.0）
- **Max Look Angle** - 最大仰俯角度（默认80度）

### 地面检测：
- **Ground Distance** - 地面检测距离（默认0.4）
- **Ground Mask** - 地面图层掩码

## 故障排除

### 常见问题：

1. **找不到Lily或Terrier对象**
   - 确保场景中的游戏对象名称完全匹配（区分大小写）

2. **角色无法移动**
   - 确保Input System包已安装
   - 检查键盘输入是否正常工作

3. **摄像机角度异常**
   - 确保Main Camera正确设置为Lily的子对象
   - 检查摄像机的本地位置是否正确

4. **角色穿透地面**
   - 确保Terrier有正确的MeshCollider组件
   - 检查角色的CharacterController设置

### 技术支持：
如果遇到其他问题，请检查Unity控制台的错误信息，并确保所有必要的包都已正确安装。

## 文件说明

- `FirstPersonController.cs` - 核心控制器脚本（内置输入处理）
- `InputSetup.cs` - 输入系统管理脚本（可选，用于高级输入配置）
- `FirstPersonSetupTool.cs` - Unity编辑器配置工具

## 版本要求

- Unity 2021.3 或更高版本
- Input System 包（通过Package Manager安装）